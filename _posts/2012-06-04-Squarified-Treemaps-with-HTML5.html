---
layout: post
title: Squarified Treemaps with HTML5.
disqus_id: first_post
#js: <script type="text/javascript" src="file://localhost/Users/nnguyen/Documents/github/nicnguyen.github.com/_site/js/page/kinetic-v3.9.6.js"></script><script type="text/javascript" src="file://localhost/Users/nnguyen/Documents/github/nicnguyen.github.com/_site/js/page/squarified-treemaps.min.js"></script>
js: <script type="text/javascript" src="http://nicopolyptic.github.io/js/page/kinetic-v3.9.6.js"></script><script type="text/javascript" src="http://nicopolyptic.github.io.github.com/js/page/squarified-treemaps.min.js"></script>
#css: <link rel="stylesheet" type="text/css" href="file://localhost/Users/nnguyen/Documents/github/nicnguyen.github.com/_site/css/post-squarified-treemaps.css" />
disqus: squarified_treemaps_html5
description: Squarified Treemaps with HTML5.
---
<script type="text/javascript" src="http://www.html5canvastutorials.com/libraries/kinetic-v3.9.6.js"></script>
<p>
I like Treemaps. That's why I've started writing a Treemap plugin in HTML5. I've implemented the Treemap-layout
algorithm, based on <a href="http://www.win.tue.nl/~vanwijk/stm.pdf">squarified treemaps</a>. An example of the plugin in-use is shown in the Treemap below.
The map is rendered onto an HTML5 canvas using KineticJS. However, the plugin separates the rendering of the rectangles
from the layout. For example, a renderer using a different HTML5 canvas API, or HTML5 directly, or even a non-HTML5 renderer
can be used. Separation between the rendering and layout in the plugin is achieved using a callback function, which does the rendering.
i.e. a callback function with signature <span class="code-inline">render(x, y, width, height)</span> for rendering a
<span class="code-inline">width &times; height</span> rectangle at point <span class="code-inline">(x,y)</span>.
</p>

<div id="container" style="margin-left:100px;"></div>

<p>
This map shown above is generated from the areas,
</p>
    <div class="code" style="width:400px;">[200,100,50,30,32,35,25,15,13,20,12,10,8,6,6,5,4,3,2,2,1]</div>
<p>and scaled to a 800px &times; 400px canvas.
</p>

<p>
    I still need to implement labels for the rectangles and the recursive layout of hierarchies.
</p>